{
    "version": "kubepattern.it/v1",
    "kind": "Pattern",
    "metadata": {
        "name": "markdown-not-referenced",
        "displayName": "Markdown Not Referenced",
        "patternType": "CUSTOM",
        "severity": "WARNING",
        "category": "architecture",
        "docUrl": "https://github.com/GabrieleGroppo/kubepattern-registry/tree/test/doc/place-holder.md",
        "gitUrl": "https://github.com/GabrieleGroppo/kubepattern-registry/tree/main/doc/markdown-not-referenced-pattern.json",
        "description": "Identifies Markdowns in Krateo that are not referenced by any Panel and Row."
    },
    "spec": {
        "message": "Markdown {{krateo-markdown.name}} in namespace {{krateo-markdown.namespace}} is not referenced by any widget (Panel, Row, Column, Page).",
        "topology": "SINGLE",
        "resources": [
            {
                "resource": "Markdown",
                "id": "krateo-markdown",
                "leader": true,
                "filters": {
                    "matchNone": [
                        {
                            "key": ".metadata.namespace",
                            "operator": "EQUALS",
                            "values": [
                                "krateo-system",
                                "kube-system",
                                "gmp-system",
                                "cnrm-system"
                            ]
                        }
                    ],
                    "matchAny": []
                }

            },
            {
                "resource": "Panel",
                "id": "krateo-panel-containing-markdown"
            },
            {
                "resource": "Row",
                "id": "krateo-row-containing-markdown"
            },
            {
                "resource": "Column",
                "id": "krateo-column-containing-markdown"
            },
            {
                "resource": "Page",
                "id": "krateo-page-containing-markdown"
            },
            {
                "resource": "Table",
                "id": "krateo-table-containing-markdown"
            }
        ],
        "actors": [
            "krateo-markdown"
        ],
        "relationships": [
            {
                "id": "markdown-to-panel-relationship",
                "type": "REFERENCES_KRATEO",
                "description": "Links Markdown '{{krateo-markdown.name}}' with Panel containing the Markdown '{{krateo-panel-containing-markdown.name}}'.",
                "weight": 1,
                "required": false,
                "shared": false,
                "resourceIds": [
                    "krateo-markdown",
                    "krateo-panel-containing-markdown"
                ]
            },
            {
                "id": "markdown-to-row-relationship",
                "type": "REFERENCES_KRATEO",
                "description": "Links Markdown '{{krateo-markdown.name}}' with Row containing the Markdown '{{krateo-row-containing-markdown.name}}'.",
                "weight": 1,
                "required": false,
                "shared": false,
                "resourceIds": [
                    "krateo-markdown",
                    "krateo-row-containing-markdown"
                ]
            },
            {
                "id": "markdown-to-column-relationship",
                "type": "REFERENCES_KRATEO",
                "description": "Links Markdown '{{krateo-markdown.name}}' with Column containing the Markdown '{{krateo-column-containing-markdown.name}}'.",
                "weight": 1,
                "required": false,
                "shared": false,
                "resourceIds": [
                    "krateo-markdown",
                    "krateo-column-containing-markdown"
                ]
            },
            {
                "id": "markdown-to-page-relationship",
                "type": "REFERENCES_KRATEO",
                "description": "Links Markdown '{{krateo-markdown.name}}' with Page containing the Markdown '{{krateo-page-containing-markdown.name}}'.",
                "weight": 1,
                "required": false,
                "shared": false,
                "resourceIds": [
                    "krateo-markdown",
                    "krateo-page-containing-markdown"
                ]
            },
            {
                "id": "markdown-to-table-relationship",
                "type": "MANAGES_KRATEO",
                "description": "Links Markdown '{{krateo-markdown.name}}' with Table managing the Markdown '{{krateo-table-containing-markdown.name}}'.",
                "weight": 1,
                "required": false,
                "shared": false,
                "resourceIds": [
                    "krateo-markdown",
                    "krateo-table-containing-markdown"
                ]
            }
        ],
        "minRelationshipPoints": 1
    }
}



