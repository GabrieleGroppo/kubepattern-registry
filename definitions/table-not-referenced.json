{
    "version": "kubepattern.it/v1",
    "kind": "Pattern",
    "metadata": {
        "name": "table-not-referenced",
        "displayName": "Table Not Referenced",
        "patternType": "CUSTOM",
        "severity": "WARNING",
        "category": "architecture",
        "docUrl": "https://github.com/GabrieleGroppo/kubepattern-registry/tree/test/doc/place-holder.md",
        "gitUrl": "https://github.com/GabrieleGroppo/kubepattern-registry/tree/main/doc/table-not-referenced-pattern.json",
        "description": "Identifies Tables in Krateo that are not referenced by any Panel. Ensuring that all Tables are referenced by Panels is important for effective data visualization and monitoring. This pattern helps in identifying orphaned Tables that may need to be reviewed or removed to maintain a clean and efficient monitoring setup."
    },
    "spec": {
        "message": "Table {{krateo-table.name}} is not referenced by any Panel.",
        "topology": "SINGLE",
        "resources": [
            {
                "resource": "Table",
                "id": "krateo-table",
                "leader": true,
                "filters": {
                    "matchNone": [
                        {
                            "key": ".metadata.name",
                            "operator": "EQUALS",
                            "values": [
                                "kube-system",
                                "kube-public",
                                "kube-node-lease"
                            ]
                        }
                    ],
                    "matchAny": []
                }
            },
            {
                "resource": "Panel",
                "id": "krateo-panel-containing-table",
                "filters": {
                    "matchNone": [
                        {
                            "key": ".metadata.namespace",
                            "operator": "EQUALS",
                            "values": [
                                "kube-system",
                                "kube-public",
                                "kube-node-lease"
                            ]
                        }
                    ],
                    "matchAny": [
                        
                    ]
                }
            }
        ],
        "actors": [
            "krateo-table"
        ],
        "relationships": [
            {
                "id": "table-to-panel-relationship",
                "type": "REFERENCES_KRATEO",
                "description": "Links Table '{{krateo-table.name}}' with Panel containing the Table '{{krateo-panel-containing-table.name}}'.",
                "weight": 1,
                "required": true,
                "shared": false,
                "resourceIds": [
                    "krateo-table",
                    "krateo-panel-containing-table"
                ]
            }
        ]
    }
}
